{"mappings":"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","sources":["src/js/header-render.js","src/js/library-queue.js","src/js/card-render.js","src/js/fetch-api.js","src/js/pagination.js","src/js/search-input.js"],"sourcesContent":["const homeBtn = document.querySelector('.nav__btn--home');\nconst libraryBtn = document.querySelector('.nav__btn--library');\nconst form = document.querySelector('.form__wrapper');\nconst library = document.querySelector('.library');\nconst header = document.querySelector('.header__home');\n\nconst libraryRender = () => {\n  homeBtn.classList.remove('nav__btn--home--current');\n  libraryBtn.classList.add('nav__btn--library--current');\n  form.classList.add('visually-hidden');\n  library.classList.remove('visually-hidden');\n  header.classList.remove('header__home');\n  header.classList.add('header__library');\n};\nlibraryBtn.addEventListener('click', libraryRender);\n\nconst homeRender = () => {\n  libraryBtn.classList.remove('nav__btn--library--current');\n  homeBtn.classList.add('nav__btn--home--current');\n  form.classList.remove('visually-hidden');\n  library.classList.add('visually-hidden');\n  header.classList.add('header__home');\n  header.classList.remove('header__library');\n};\nhomeBtn.addEventListener('click', homeRender);\n","const refs = {\n  libraryBtn: document.querySelector('.btn__library--library'),\n  queueBtn: document.querySelector('.btn__library--queue'),\n};\n\nconst queueRender = () => {\n  refs.libraryBtn.classList.remove('active');\n  refs.queueBtn.classList.add('active');\n};\n\nrefs.queueBtn.addEventListener('click', queueRender);\n\nconst libraryRender = () => {\n  refs.queueBtn.classList.remove('active');\n  refs.libraryBtn.classList.add('active');\n};\n\nrefs.libraryBtn.addEventListener('click', libraryRender);\n","const genres = {\n  28: 'Action',\n  12: 'Adventure',\n  16: 'Animation',\n  35: 'Comedy',\n  80: 'Crime',\n  99: 'Documentary',\n  18: 'Drama',\n  10751: 'Family',\n  14: 'Fantasy',\n  36: 'History',\n  27: 'Horror',\n  10402: 'Music',\n  9648: 'Mystery',\n  10749: 'Romance',\n  878: 'Science Fiction',\n  10770: 'TV Movie',\n  53: 'Thriller',\n  10752: 'War',\n  37: 'Western',\n};\n\nconst trendingList = document.querySelector('.card__list');\n\nfunction renderTrending(trends) {\n  const markup = trends\n    .map(trend => {\n      const { original_title, genre_ids, release_date } = trend;\n      return ` <li class=\"card__list--item\">\n      <div class=\"card__wrapper\">\n        <img class=\"card__img\" src=\"https://image.tmdb.org/t/p/original/${\n          trend.poster_path\n        }\" alt=\"poster\" />\n        <h3 class=\"card__title\">${original_title}</h3>\n        <p class=\"card__genre\"><span>${genre_ids\n          .map(genre_id => genres[genre_id])\n          .slice(0, 1)}</span> | <span>${release_date.slice(0, 4)}</span></p>\n      </div>\n    </li>`;\n    })\n    .join('');\n\n  return (trendingList.innerHTML = markup);\n}\n\nexport default renderTrending;\n","import renderTrending from './card-render';\n\nconst API_KEY = '8a851f7b54845db9a7afea3bd46f2426';\n\n// let pageNumber = 1;\n\nexport function fetchTrending(pageNumber = 1) {\n  fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}&language=en-US&page=${pageNumber}`\n  )\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .then(data => renderTrending(data.results))\n    // .then(data => console.log(data))\n    .catch(error => console.log(error));\n}\n\nfetchTrending();\n\nexport function fetchByName(name) {\n  fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${name}`\n  )\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .then(data => renderTrending(data.results))\n    .then(data => console.log(data))\n    .catch(error => console.log(error));\n}\n","import { fetchTrending } from './fetch-api';\n\nconst ulEl = document.querySelector('.pagination__list');\n\nlet allPages = 15;\nlet pageNumber = +1;\n\nfunction elem(allPages, page) {\n  let beforePages = page - 1;\n  let afterPages = page + 3;\n  let liActive;\n\n  if (page > 1) {\n    const li = document.createElement('li');\n    const span = document.createElement('span');\n    li.classList.add('btn__left');\n    span.innerHTML = `  <img class=\"btn__img\" src=\"./images/arrow-left.png\" alt=\"\"\n    />`;\n    li.appendChild(span);\n    li.addEventListener('click', () => {\n      if (pageNumber === 1) {\n        fetchTrending();\n      } else fetchTrending((pageNumber = pageNumber - 1));\n    });\n    ulEl.appendChild(li);\n  }\n  for (let pageLength = beforePages; pageLength <= afterPages; pageLength++) {\n    if (pageLength > allPages) {\n      continue;\n    }\n    if (pageLength == 0) {\n      pageLength = pageLength + 1;\n    }\n\n    if (page === pageLength) {\n      liActive = 'btn__active';\n    } else {\n      liActive = '';\n    }\n    const li = document.createElement('li');\n    const span = document.createElement('span');\n    li.classList.add('numb');\n    span.innerHTML = ` ${pageLength}`;\n    li.appendChild(span);\n    li.addEventListener('click', () => {\n      fetchTrending((pageNumber = pageLength));\n      if (page == pageLength) {\n        li.classList.remove('btn__active');\n      } else {\n        li.classList.add('btn__active');\n      }\n    });\n\n    ulEl.appendChild(li);\n  }\n  if (page < allPages) {\n    const li = document.createElement('li');\n    const span = document.createElement('span');\n    li.classList.add('btn__right');\n    span.innerHTML = `  <img class=\"btn__img\" src=\"./src/images/arrow-right.png\" alt=\"\"\n    />`;\n    li.appendChild(span);\n    li.addEventListener('click', () => {\n      fetchTrending((pageNumber = pageNumber + 1));\n    });\n    ulEl.appendChild(li);\n  }\n}\n\nelem(allPages, 2);\n\n// function paginationRight() {\n//   const pagButtons = document.createElement('li');\n//   pagButtons.classList.add('btn');\n\n//   pagButtons.textContent = paginationNumber += 1;\n//   paginationList.appendChild(pagButtons);\n//   paginationList.firstElementChild.remove();\n//   pageNumber += 1;\n\n//   return fetchTrending();\n// }\n\n// function paginationLeft() {\n//   const pagButtons = document.createElement('li');\n//   pagButtons.classList.add('btn');\n//   pagButtons.textContent = paginationNumber;\n//   paginationList.appendChild(pagButtons);\n//   paginationList.lastElementChild.remove();\n//   pageNumber -= 1;\n\n//   return fetchTrending();\n// }\n","const input = document.querySelector('.input');\nimport { fetchTrending } from './fetch-api';\nimport { fetchByName } from './fetch-api';\n\nlet searchName;\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  const searchName = Object.fromEntries(new FormData(event.target));\n\n  fetchByName(searchName.name);\n  input.reset();\n}\n\ninput.addEventListener('submit', onSubmit);\nfetchTrending();\n"],"names":["$b7c47f9baf9d5f84$var$homeBtn","document","querySelector","$b7c47f9baf9d5f84$var$libraryBtn","$b7c47f9baf9d5f84$var$form","$b7c47f9baf9d5f84$var$library","$b7c47f9baf9d5f84$var$header","addEventListener","classList","remove","add","$89441b3373648fc0$var$refs","libraryBtn","queueBtn","$4c2d48d4d77945c5$var$genres","$4c2d48d4d77945c5$var$trendingList","$4c2d48d4d77945c5$export$2e2bcd8739ae039","trends","markup","map","trend","original_title","genre_ids","release_date","concat","poster_path","genre_id","slice","join","innerHTML","$0d419fa112e607df$var$API_KEY","$0d419fa112e607df$export$366c886a9138e8db","pageNumber","arguments","length","fetch","then","res","ok","Error","status","json","data","results","catch","error","console","log","$dfaf77c789ce7a24$var$ulEl","$dfaf77c789ce7a24$var$pageNumber","allPages1","page","pageLength","pageLength1","li","createElement","span","appendChild","beforePages","afterPages","li2","span2","_loop","li1","span1","$dfaf77c789ce7a24$var$elem","$398ecb111c38cf34$var$input","event","preventDefault","name","searchName1","Object","fromEntries","FormData","target","reset"],"version":3,"file":"index.4cb44148.js.map"}